function getLastAuditLogs(typ: text) :: object:
	loop ...{_g}.retrieveAuditLogs().cache(false):
		set {_v} to loop-value
		if "%{_v}.getType()%" is {_typ}:
			return {_v}

on message delete:
	set {_test} to getLastAuditLogs("MESSAGE_DELETE")
	reply with "%{_test}.getUser()%"