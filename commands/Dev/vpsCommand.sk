options:
	cmd: vps

import:
	java.io.BufferedReader
	java.io.IOException
	java.io.InputStreamReader
	java.io.PrintWriter
	java.math.BigInteger
	java.net.URL
	java.net.URLConnection
	java.security.MessageDigest
	java.util.Date
	java.util.HashMap
	java.util.Map


on script load:
	set {command::{@cmd}::poziom} to 0
	set {command::{@cmd}::cooldown} to 0 seconds

	set {command::{@cmd}::opis} to "Wy≈õwietla specyikacje maszyny"
	set {command::{@cmd}::kategoria} to "Deweloperskie"
	set {command::{@cmd}::uzycie} to "vps"

discord command {@cmd} [<text>]:
	prefixes: "%{bot::prefix}%", "%{bot::helpmention}%" 
	trigger:
		set {_url} to "https://kamil0024.me:2137/system?action=GetSystemTotal"
		
		set {_date} to new Date().getTime()
		set {_timestamp} to "%{_date}%"

		set {_json} to "request_time=%{_timestamp}%&request_token=10r7KXYKnzzJXyFI4pCSxtUMCmWlvYjB"

		set {_realUrl} to new Url({_url})

		set {_conn} to {_realUrl}.openConnection()

		{_conn}.setRequestProperty("accept", "text/xml,text/javascript,text/html,application/json")
    {_conn}.setRequestProperty("connection", "Keep-Alive")

		{_conn}.setDoOutput(true)
		{_conn}.setDoInput(true)

		set {_out} to new PrintWriter({_conn}.getOutputStream())

		{_out}.print({_json})

		{_out}.flush()

		set {_reader} to new BufferedReader(new InputStreamReader({_conn}.getInputStream()))

		set {_builder} to ""
		if {_reader}.ready():
			loop 100 times:
				set {_line} to {_reader}.readLine()
				if {_line} is not set:
					stop loop

				if {_builder} is set:
					set {_builder} to "%{_builder}%%{_line}%%nl%"
				else:
					set {_builder} to "%{_line}%%nl%"

				delete {_line}

		log("%{_builder}%")
		
		KamilAPI add emote "green" to event-message of event-user